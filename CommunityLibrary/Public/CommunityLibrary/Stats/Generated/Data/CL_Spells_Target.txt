// Barkskin currently adds 16AC. Let's have an alternative spell that fixes this.
new entry "CL_Target_Barkskin"
type "SpellData"
data "SpellType" "Target"
using "Target_Barkskin"
data "SpellProperties" "ApplyStatus(CL_STATUS_BARKSKIN,100,-1)"

// Frostbite is not present in BG3 Early Access as of posting
new entry "CL_Target_Frostbite"
type "SpellData"
data "SpellType" "Target"
data "Level" "0"
data "SpellSchool" "Evocation"
data "TargetRadius" "18"
data "SpellRoll" "not SavingThrow(Ability.Constitution, SourceSpellDC())"
data "SpellSuccess" "DealDamage(1d6,Cold); ApplyStatus(CL_STATUS_DISADVANTAGE_FROSTBITE, 100, 1)"
data "TargetConditions" "Character() and not Self()"
data "Icon" "Spell_Evocation_RayOfFrost"
data "DisplayName" "Frostbite"
data "Description" "You cause numbing frost to form on one creature that you can see, within range. The target must make a Constitution saving throw. On a failed save, the target takes [1], and it has disadvantage on the next weapon attack roll it makes before the end of its next turn."
data "DescriptionParams" "DealDamage(1d6,Cold)"
data "TooltipDamageList" "DealDamage(1d6,Cold)"
data "TooltipAttackSave" "Constitution"
data "TooltipStatusApply" "ApplyStatus(CL_FROSTBITTEN,100,1)"
data "PrepareEffect" "VFX_Spells_Prepare_Arcane_Damage_Cold_R_HandFX_01:Dummy_R_HandFX::0:None::None::0:0::::;VFX_Spells_Prepare_Arcane_Damage_Cold_R_HandFX_Textkey_01:Dummy_R_HandFX:VFX_Prepare_01:0:None::None::0:0::::"
data "CastEffect" "VFX_Spells_Cast_Damage_Cold_ProjectileBeam_CastFX_Textkey_01,Detach:Dummy_CastFX:VFX_Somatic_01:0:None::None::0:0::::;VFX_Spells_Cast_Damage_Cold_ProjectileBeam_CastFX_Textkey_02:Dummy_R_HandFX:VFX_Somatic_02:0:None::None::0:0::::;VFX_Spells_Cast_Damage_Cold_ProjectileBeam_Root_Textkey_01,Detach:Dummy_Root:VFX_Somatic_02:0:None::None::0:0::::"
data "PreviewCursor" "Cast"
data "CastTextEvent" "Cast"
data "CastSound" "Spell_Cast_Damage_Ice_RayOfFrost_L0"
data "CycleConditions" "Enemy() and not Dead()"
data "UseCosts" "ActionPoint:1;SpellSlot:1:1:1"
data "SpellAnimationArcaneMagic" "3ff87abf-1ea1-4c32-aadf-c822d74c7dc0(SPL_Arcane_Damage_Combat_01_Prepare);;cd5e5d4a-38e1-4d4d-b346-3fbc1e4c3c90(SPL_Somatic_Beam_Combat_01_Cast);141f48d9-9615-496a-8737-9240f0dba60d(SPL_Somatic_Beam_Combat_01_Recover);;"
data "SpellAnimationDivineMagic" "3ff87abf-1ea1-4c32-aadf-c822d74c7dc0(SPL_Arcane_Damage_Combat_01_Prepare);;cd5e5d4a-38e1-4d4d-b346-3fbc1e4c3c90(SPL_Somatic_Beam_Combat_01_Cast);141f48d9-9615-496a-8737-9240f0dba60d(SPL_Somatic_Beam_Combat_01_Recover);;"
data "SpellAnimationNoneMagic" "3ff87abf-1ea1-4c32-aadf-c822d74c7dc0(SPL_Arcane_Damage_Combat_01_Prepare);;cd5e5d4a-38e1-4d4d-b346-3fbc1e4c3c90(SPL_Somatic_Beam_Combat_01_Cast);141f48d9-9615-496a-8737-9240f0dba60d(SPL_Somatic_Beam_Combat_01_Recover);;"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;CannotTargetTerrain;IsHarmful"
data "MemoryCost" "1"

// Useful elemental weakness spells - Might be unbalanced for 2nd level?
new entry "CL_Target_WeaknessToFire"
type "SpellData"
data "SpellType" "Target"
data "Level" "2"
data "SpellSchool" "Transmutation"
data "Icon" "Status_Burning"
data "DisplayName" "Weakness to Fire"
data "Description" "A creature that you can see within range glimmers with a red light. For the duration of the spell, they are vulnerable to Fire damage."
data "TargetConditions" "Character() and not Dead()"
data "TargetRadius" "18"
data "SpellProperties" "ApplyStatus(CL_STATUS_WEAKNESS_TO_FIRE, 100, 9)"
data "TooltipStatusApply" "ApplyStatus(CL_STATUS_WEAKNESS_TO_FIRE, 100, 9)"
data "CycleConditions" "Enemy() and not Dead()"
data "UseCosts" "ActionPoint:1;SpellSlot:1:1:2"
data "SpellAnimationArcaneMagic" "554a18f7-952e-494a-b301-7702a85d4bc9(SPL_Arcane_Control_Combat_01_Prepare);;7abe77ed-9c77-4eac-872c-5b8caed070b6(SPL_Somatic_Aoe_Rise_Combat_01_Cast);cb171bda-f065-4520-b470-e447f678ba1f(SPL_Somatic_Aoe_Rise_Combat_01_Recover);;"
data "SpellAnimationDivineMagic" "554a18f7-952e-494a-b301-7702a85d4bc9(SPL_Arcane_Control_Combat_01_Prepare);;7abe77ed-9c77-4eac-872c-5b8caed070b6(SPL_Somatic_Aoe_Rise_Combat_01_Cast);cb171bda-f065-4520-b470-e447f678ba1f(SPL_Somatic_Aoe_Rise_Combat_01_Recover);;"
data "SpellAnimationNoneMagic" "554a18f7-952e-494a-b301-7702a85d4bc9(SPL_Arcane_Control_Combat_01_Prepare);;7abe77ed-9c77-4eac-872c-5b8caed070b6(SPL_Somatic_Aoe_Rise_Combat_01_Cast);cb171bda-f065-4520-b470-e447f678ba1f(SPL_Somatic_Aoe_Rise_Combat_01_Recover);;"
data "VerbalIntent" "Control"
data "SpellFlags" "HasSomaticComponent;IsSpell;HasHighGroundRangeExtension;CannotTargetItems"

new entry "CL_Target_WeaknessToFrost"
type "SpellData"
data "SpellType" "Target"
using "CL_Target_WeaknessToFire"
data "Icon" "Status_Chilled"
data "DisplayName" "Weakness to Shock"
data "Description" "A creature that you can see within range glimmers with a blue light. For the duration of the spell, they are vulnerable to Cold damage."
data "SpellProperties" "ApplyStatus(CL_STATUS_WEAKNESS_TO_FROST, 100, 9)"
data "TooltipStatusApply" "ApplyStatus(CL_STATUS_WEAKNESS_TO_FROST, 100, 9)"
data "UseCosts" "ActionPoint:1"

new entry "CL_Target_WeaknessToElectricity"
type "SpellData"
data "SpellType" "Target"
using "CL_Target_WeaknessToFire"
data "Icon" "Status_Shocked"
data "DisplayName" "Weakness to Electricity"
data "Description" "A creature that you can see within range glimmers with a purple light. For the duration of the spell, they are vulnerable to Electric damage."
data "SpellProperties" "ApplyStatus(CL_STATUS_WEAKNESS_TO_ELECTRICITY, 100, 9)"
data "TooltipStatusApply" "ApplyStatus(CL_STATUS_WEAKNESS_TO_ELECTRICITY, 100, 9)"

new entry "CL_Target_ArcaneLock_Password"
type "SpellData"
data "SpellType" "Target"
using "CL_Target_ArcaneLock"
data "DisplayName" "CL_ArcaneLockPassword_Name"
data "Description" "CL_ArcaneLockPassword_Desc"
data "SpellProperties" "ApplyStatus(CL_STATUS_ARCANE_LOCK_PASSWORD, 100, 8)"
data "TooltipStatusApply" "ApplyStatus(CL_STATUS_ARCANE_LOCK_PASSWORD, 100, 8)"
data "TargetConditions" "Item() and HasStatus('CL_STATUS_ARCANE_LOCK')"
data "UseCosts" "ActionPoint:1"

new entry "CL_Target_ArcaneLock"
type "SpellData"
data "SpellType" "Target"
data "Level" "2"
data "SpellSchool" "Abjuration"
data "TargetRadius" "1.5"
data "Icon" "unknown"
data "UseCosts" "ActionPoint:1;SpellSlot:1:1:2"
data "CastTextEvent" "Cast"
data "PreviewCursor" "Cast"
data "VocalComponentSound" "Vocal_Component_Lock"
data "DisplayName" "CL_ArcaneLock_Name"
data "Description" "CL_ArcaneLock_Desc"
data "TooltipStatusApply" "ApplyStatus(CL_STATUS_ARCANE_LOCK, 100, 85);"
data "SpellProperties" "ApplyStatus(CL_STATUS_ARCANE_LOCK, 100, 85);ApplyStatus(SELF,CL_STATUS_ARCANE_LOCK_CASTER, 100, 85)"
data "TargetConditions" "Item() and not Locked() and not HasStatus('CL_STATUS_ARCANE_LOCK')"
data "SpellAnimationArcaneMagic" "03496c4a-49e0-4132-b585-3e5ecd1ad8e5(SPL_Arcane_Buff_01_Prepare);;a4da186a-0872-461e-ae5e-93d5b32b9bef(SPL_Somatic_Circle_1HandCW_01_Cast);e8a5c57f-855b-4227-acaa-11e8ce8d7d64(CMBT_Melee_RHand_01_Recover);;"
data "SpellAnimationDivineMagic" "f0e00e36-4d0d-4037-830c-fe09383c0d43(SPL_Divine_Buff_01_Prepare);;a4da186a-0872-461e-ae5e-93d5b32b9bef(SPL_Somatic_Circle_1HandCW_01_Cast);e8a5c57f-855b-4227-acaa-11e8ce8d7d64(CMBT_Melee_RHand_01_Recover);;"
data "SpellAnimationNoneMagic" "03496c4a-49e0-4132-b585-3e5ecd1ad8e5(SPL_Arcane_Buff_01_Prepare);;a4da186a-0872-461e-ae5e-93d5b32b9bef(SPL_Somatic_Circle_1HandCW_01_Cast);e8a5c57f-855b-4227-acaa-11e8ce8d7d64(CMBT_Melee_RHand_01_Recover);;"
data "VerbalIntent" "Utility"
data "SpellFlags" "IsSpell;HasVerbalComponent;HasSomaticComponent;CannotTargetTerrain;CannotTargetCharacter;IsMelee"
data "MemoryCost" "1"
