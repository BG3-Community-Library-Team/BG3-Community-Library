new entry "CL_Passive_OneDnD_DeflectAttacks"
type "PassiveData"
data "DisplayName" "habbb82f9afa64cc1ae16cb09fa38cfd87ab4;1"
data "Description" "hb8c0a50a953d45dd9072582ce561c96662b8;1"
data "ExtraDescription" "h60771c66eaf14c18bb4e840677e150c0c510;1"
data "TooltipUseCosts" "ReactionActionPoint:1"
data "Icon" "PassiveFeature_DeflectMissiles"
data "Properties" "Highlighted"
data "Boosts" "IF(not HasStatus('SG_Polymorph_BeastShape')):UnlockInterrupt(CL_Interrupt_OneDnD_DeflectAttacks);UnlockInterrupt(CL_Interrupt_OneDnD_DeflectAttacks_Return)"
data "StatsFunctorContext" "OnCreate;OnLongRest"
data "StatsFunctors" "UseActionResource(DeflectMissiles_Charge,1,0)"

new entry "CL_Interrupt_OneDnD_DeflectAttacks"
type "InterruptData"
data "DisplayName" "habbb82f9afa64cc1ae16cb09fa38cfd87ab4;1"
data "Description" "h8805144926d445c5821b0e2f16bd60997e6d;1"
data "ExtraDescription" "h60771c66eaf14c18bb4e840677e150c0c510;1"
data "Icon" "PassiveFeature_DeflectMissiles"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and IsWeaponAttack() and not HasStatus('SG_Polymorph_BeastShape') and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(OBSERVER_OBSERVER,-(1d10+DexterityModifier+ClassLevel(Monk)));ApplyStatus(OBSERVER_TARGET,INTERRUPT_DEFLECT_MISSILES_HIT,100,1);RestoreResource(DeflectMissiles_Charge,1,0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "CL_Interrupt_OneDnD_DeflectAttacks_Return"
type "InterruptData"
data "DisplayName" "habbb82f9afa64cc1ae16cb09fa38cfd87ab4;1"
data "Description" "h8902d741ac1a40dba37d677bf13a346cff05;1"
data "Icon" "PassiveFeature_DeflectMissiles"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and (IsAttackType(AttackType.RangedWeaponAttack) or IsAttackType(AttackType.MeleeWeaponAttack)) and not (IsCriticalMiss() or IsMiss()) and HasActionResource('DeflectMissiles_Charge', 1, 0, false, false, context.Observer) and not AnyEntityIsItem()"
data "Properties" "UseSpell(SWAP,CL_Projectile_OneDnD_DeflectAttacks,true,true,true,c4598bdb-fc07-40dd-a62c-90cc138bd76f);UseActionResource(OBSERVER_OBSERVER,DeflectMissiles_Charge,1,0)"
data "Cost" "KiPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "CL_Projectile_OneDnD_DeflectAttacks"
type "SpellData"
data "SpellType" "Projectile"
data "SpellProperties" "GROUND:DealDamage(1,Bludgeoning)"
data "TargetFloor" "-1"
data "TargetRadius" "18"
data "SpellRoll" "Attack(AttackType.MeleeUnarmedAttack)"
data "SpellSuccess" "DealDamage(UnarmedDamage , Bludgeoning)"
data "ProjectileCount" "1"
data "Trajectories" "e5f96de3-7ad6-4478-b2a6-b942e15bb71c"
data "DisplayName" "habbb82f9afa64cc1ae16cb09fa38cfd87ab4;1"
data "Description" "h45778f72253e4a2993cdf3acd197f8503cb0;1"
data "TooltipDamageList" "DealDamage(MartialArtsUnarmedDamage, Bludgeoning)"
data "CastSound" "Action_Cast_Monk_DeflectMissile"
data "CastTextEvent" "Cast"
data "SpellAnimation" "8b8bb757-21ce-4e02-a2f3-97d55cf2f90b,,;,,;c3340bf4-833e-4c4d-b679-8ccdb26c30e7,,;6c5e8729-472f-4aab-acc4-a51d6657a50d,,;7bb52cd4-0b1c-4926-9165-fa92b75876a3,,;,,;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Utility"
data "SpellFlags" "IsAttack;IsHarmful"
data "PrepareEffect" "5f319816-74c9-484c-9b27-5a25077ea126"
data "CastEffect" "8bfd5bf7-cb91-49f4-a9c4-b26a477e9299"