new entry "CL_Passive_OneDnD_Moonlight"
type "PassiveData"
data "DisplayName" "h9035e4684beb4c59a91a2d6bfb68b20b8f6d;1"
data "Description" "h7a10340ecdbf41d3aad430ac4fc85dc9e09a;1"
data "Icon" "GenericIcon_Intent_Buff"
data "Properties" "Highlighted"
data "BoostContext" "OnStatusApply;OnStatusRemove;OnEquip;OnShortRest;OnCreate;OnLongRest;OnInventoryChanged"
data "Boosts" "IF(CL_WisModEqualOrLessThan(1)):ActionResource(CL_Moonlight,1,0);IF(CL_WisModEqualTo(2)):ActionResource(CL_Moonlight,2,0);IF(CL_WisModEqualTo(3)):ActionResource(CL_Moonlight,3,0);IF(CL_WisModEqualTo(4)):ActionResource(CL_Moonlight,4,0);IF(CL_WisModEqualTo(5)):ActionResource(CL_Moonlight,5,0);IF(CL_WisModEqualTo(6)):ActionResource(CL_Moonlight,6,0);IF(CL_WisModEqualTo(7)):ActionResource(CL_Moonlight,7,0);IF(CL_WisModEqualTo(8)):ActionResource(CL_Moonlight,8,0);IF(CL_WisModEqualTo(9)):ActionResource(CL_Moonlight,9,0);IF(CL_WisModEqualTo(10)):ActionResource(CL_Moonlight,10,0);"

new entry "CL_Teleportation_OneDnD_MoonlightStep_Container"
type "SpellData"
data "SpellType" "Teleportation"
data "ContainerSpells" "CL_Teleportation_OneDnD_MoonlightStep"
data "Icon" "Spell_Conjuration_MistyStep"
data "DisplayName" "h9403ab71bf954b62bf003933033e81cd71g1;1"
data "Description" "h89fa10fae25140eb83d1a4bc5093be63a6e9;1"
data "TooltipStatusApply" "ApplyStatus(CL_STATUS_ONEDND_MOONLIGHTSTEP,100,1)"
data "TooltipUpcastDescription" "6ff1780a-855a-414c-a8bf-811251537206"
data "CastSound" "Spell_Cast_Utility_MistyStep_L1to3"
data "TargetSound" "Spell_Impact_Utility_MistyStep_L1to3"
data "VocalComponentSound" "Vocal_Component_Teleport"
data "CastTextEvent" "Cast"
data "UseCosts" "BonusActionPoint:1;CL_Moonlight:1"
data "SpellAnimation" "dd86aa43-8189-4d9f-9a5c-454b5fe4a197,,;,,;39daf365-ec06-49a8-81f3-9032640699d7,,;5c400e93-0266-499c-a2e1-75d53358460f,,;cc5b0caf-3ed1-4711-a50d-11dc3f1fdc6a,,;,,;1715b877-4512-472e-9bd0-fd568a112e90,,;,,;,,"
data "SpellStyleGroup" "Class"
data "VerbalIntent" "Utility"
data "SpellFlags" "HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;Invisible;CannotTargetItems;IsLinkedSpellContainer;WildShape"
data "MemoryCost" "1"
data "LineOfSightFlags" "AddSourceHeight"
data "PrepareEffect" "7121a488-7c9a-4ba1-a585-f79aaa77e97c"
data "CastEffect" "71859b27-bdda-44c3-8c65-7f142a1a2f60"
data "Sheathing" "Sheathed"

new entry "CL_STATUS_ONEDND_MOONLIGHTSTEP"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h9403ab71bf954b62bf003933033e81cd71g1;1"
data "Description" "hcb536164109f488da4d60c65f846f038a89a;1"
data "Icon" "Spell_Divination_TrueStrike"
data "StackId" "CL_STATUS_ONEDND_MOONLIGHTSTEP"
data "Boosts" "Advantage(AttackRoll)"
data "RemoveEvents" "OnAttack"

new entry "CL_Teleportation_OneDnD_MoonlightStep"
type "SpellData"
data "SpellType" "Teleportation"
using "CL_Teleportation_OneDnD_MoonlightStep_Container"
data "SpellContainerID" "CL_Teleportation_OneDnD_MoonlightStep_Container"
data "ContainerSpells" ""
data "TargetRadius" "0"
data "AreaRadius" "18"
data "LineOfSightFlags" "AddSourceHeight"
data "SpellProperties" "GROUND:TeleportSource();ApplyStatus(CL_STATUS_ONEDND_MOONLIGHTSTEP, 100, 2 )"
data "TargetConditions" "CanStand('') and not Character()"
data "OriginTargetConditions" "Self()"
data "TeleportSelf" "No"
data "TeleportSurface" "No"
data "SpellFlags" "HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;Invisible;CannotTargetItems;WildShape"

new entry "CL_Teleportation_OneDnD_SharedMoonlightStep"
type "SpellData"
data "SpellType" "Teleportation"
using "CL_Teleportation_OneDnD_MoonlightStep_Container"
data "SpellContainerID" "CL_Teleportation_OneDnD_MoonlightStep_Container"
data "ContainerSpells" ""
data "DisplayName" "h4cf2341f30994619887eba7703708959fda0;1"
data "Description" "h0415be9483784d4abdf938c95df79d3c007e;1"
data "DescriptionParams" "1;2"
data "TargetRadius" "4"
data "AreaRadius" "18"
data "LineOfSightFlags" "AddSourceHeight"
data "SpellProperties" "GROUND:TeleportSource();ApplyStatus(SELF,CL_STATUS_ONEDND_MOONLIGHTSTEP, 100, 2 )"
data "TargetConditions" "CanStand('') and not Character()"
data "OriginTargetConditions" "not Self() and Ally() and not Grounded() and (Tagged('WEIGHT_MEDIUM') or Tagged('WEIGHT_SMALL') or Tagged('WEIGHT_TINY'))"
data "TeleportSelf" "No"
data "TeleportSurface" "No"
data "SpellFlags" "HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;Invisible;CannotTargetItems;WildShape"

new entry "CL_Passive_OneDnD_MoonlightStep"
type "PassiveData"
data "DisplayName" "h9403ab71bf954b62bf003933033e81cd71g1;1"
data "Description" "h89fa10fae25140eb83d1a4bc5093be63a6e9;1"
data "Icon" "Spell_Conjuration_MistyStep"
data "DescriptionParams" "1"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "UnlockSpell(CL_Teleportation_OneDnD_MoonlightStep_Container);"

new entry "CL_Passive_OneDnD_SharedMoonlight"
type "PassiveData"
data "DisplayName" "h4cf2341f30994619887eba7703708959fda0;1"
data "Description" "haf57fbe442b34d9d8687d6153ca24cdb6d61;1"
data "Icon" "Spell_Conjuration_MistyStep"
data "DescriptionParams" "1"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "UnlockSpell(CL_Teleportation_OneDnD_SharedMoonlightStep)"

new entry "CL_STATUS_ONEDND_MOON_WILDSHAPE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h9403ab71bf954b62bf003933033e81cd71g1;1"
data "Boosts" "IF(HasPassive('WildShape_Combat',context.Source)):UnlockSpell(CL_Teleportation_OneDnD_MoonlightStep_Container)"
data "Passives" ""
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"